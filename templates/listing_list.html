{% extends "base.html" %}

{% block head %}

{% endblock %}

{% block body %}

<div id="root"></div>

<script src="/public/listing.jsx" type="text/babel"></script>

<script type="text/babel">
	const ListingsList = ({ listings, tool }) => {

		return <div>
			{listings.map(l => <Listing key={l.id} tool={tool[l.id]} {...l} />)}
		</div>;
	};

	const root = ReactDOM.createRoot(document.getElementById('root'));

	const listings = {{ listings| json }};
	const tool = {{ tool | json }};
	console.log(listings);
	console.log(tool);
	root.render(<ListingsList listings={listings} tool={tool} />);
</script>

{% endblock %}